<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="mysql, Hexo">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>mysql | Hexo</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Hexo</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Hexo</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">mysql</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">No tag</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-10-15
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="解压安装数据库"><a href="#解压安装数据库" class="headerlink" title="解压安装数据库"></a>解压安装数据库</h2><ol>
<li><p>下载后得到zip压缩包</p>
</li>
<li><p>解压到自己想要安装的目录</p>
</li>
<li><p>添加环境变量</p>
</li>
<li><p>在mysql目录下新建一个my.ini文件配置ini</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">basedir</span>=D:\Program Files\mysql\mysql-<span class="number">5.7</span>.<span class="number">29</span>\</span><br><span class="line"><span class="attr">datadir</span>=D:\Program Files\mysql\mysql-<span class="number">5.7</span>.<span class="number">29</span>\data\</span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure></li>
<li><p>进入bin目录下启动管理员模式下的CMD，运行所有的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqld -install</span><br><span class="line"></span><br><span class="line">mysqld --initialize-insecure --user=mysql</span><br></pre></td></tr></table></figure></li>
<li><p>启动mysql服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure></li>
<li><p>进入mysql，没有密码</p>
</li>
<li><p>进入界面后更改root密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update mysql.user set authentication_string=password(&#x27;root&#x27;) where user=&#x27;root&#x27; and host=&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure>

<p>(最好输入flush privileges，刷新权限)</p>
</li>
<li><p>修改my.ini文件删除最后一句skip-grant-tables</p>
</li>
<li><p>重庆mysql即可正常使用</p>
<p>net stop mysql</p>
<p>net start mysql</p>
</li>
</ol>
<p>src delete mysql 【删除已经安装号的mysql服务】</p>
<h2 id="1、初始数据库"><a href="#1、初始数据库" class="headerlink" title="1、初始数据库"></a>1、初始数据库</h2><h3 id="1-1、数据库分类"><a href="#1-1、数据库分类" class="headerlink" title="1.1、数据库分类"></a>1.1、数据库分类</h3><p><strong>关系型数据库：</strong></p>
<ul>
<li>MySQL，Oracle，Sql Server,  DB2，SQLlite</li>
<li>通过表和表之间，行和列之间的关系进行数据的存储，学员信息表，考勤表…</li>
</ul>
<p><strong>非关系型数据库：</strong></p>
<ul>
<li>Redis，MongDB</li>
<li>非关系型数据库，对象存储，通过对象的自身的属性来决定。</li>
</ul>
<p>DBMS(数据库管理系统)</p>
<ul>
<li>数据库的管理软件，科学有效的管理我们的数据，维护和获取数据；</li>
<li>MySQL，数据库管理系统！</li>
</ul>
<h3 id="1-2、MySQL简介"><a href="#1-2、MySQL简介" class="headerlink" title="1.2、MySQL简介"></a>1.2、MySQL简介</h3><p>MySQL是一个<strong>关系型数据库管理系统</strong></p>
<p>前世：瑞典MySQL AB公司</p>
<p>今生：属于Orcle旗下产品</p>
<p>MySQL是最好的RDBMS(Relational Database Management System，关系数据库管理系统)应用软件之一。</p>
<p>开源的数据库软件</p>
<p>体积小、速度快、总体拥有成本低、招人成本比较低，所有人必须会~</p>
<p>中小型网站、或者大型网站、集群！</p>
<h3 id="1-3、创建数据库"><a href="#1-3、创建数据库" class="headerlink" title="1.3、创建数据库"></a>1.3、创建数据库</h3><p>1、新建一个数据库school</p>
<p><img src="D:\md图片路径\image-20210330151439217.png" alt="image-20210330151439217"></p>
<p>==每一个sqlyog的执行操作，本质就是对应了一个sql, 可以在软件的历史纪录中查看==</p>
<p>2、新建一张表student</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段：id, name, age</span><br></pre></td></tr></table></figure>

<p><img src="D:\md图片路径\image-20210330152847765.png" alt="image-20210330152847765"></p>
<p>3、查看表</p>
<p>4、自己尝试添加多条记录</p>
<h3 id="1-4、连接数据库"><a href="#1-4、连接数据库" class="headerlink" title="1.4、连接数据库"></a>1.4、连接数据库</h3><p>命令行连接！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>uroot <span class="operator">-</span>proot</span><br><span class="line"></span><br><span class="line">update mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;root&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>; <span class="comment">--修改密码</span></span><br><span class="line"></span><br><span class="line">flush privileges <span class="comment">--刷新权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 所有的语句都要使用;结尾</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">--查看所有的数据库</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> use school	<span class="comment">--切换数据库 use 数据库名</span></span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> tables;	<span class="comment">--查看数据中所有的表</span></span><br><span class="line"><span class="keyword">describe</span> student; <span class="operator">=</span><span class="operator">=</span> <span class="keyword">desc</span> student; <span class="comment">--查看数据中表中所有信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> databases kang; <span class="comment">--创建数据库</span></span><br><span class="line"></span><br><span class="line">exit <span class="comment">--退出数据库</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 单行注释（SQL 的本来的注释）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*多行注释*/</span> </span><br></pre></td></tr></table></figure>



<p>数据库***语言</p>
<p>DDL    定义</p>
<p>DML    操作</p>
<p>DQL    查询</p>
<p>DCL     控制</p>
<h2 id="2、操作数据库"><a href="#2、操作数据库" class="headerlink" title="2、操作数据库"></a>2、操作数据库</h2><p>操作数据库&gt;操作数据库中的表&gt;操作数据库中表的数据</p>
<p>==mysql关键字不区分大小写==</p>
<h3 id="2-1、操作数据库"><a href="#2-1、操作数据库" class="headerlink" title="2.1、操作数据库"></a>2.1、操作数据库</h3><p>1、创建数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database [if not exists] west;</span><br></pre></td></tr></table></figure>



<p>2、删除数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database [if exists] west</span><br></pre></td></tr></table></figure>



<p>3、使用数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- tab 键的上面，如果你的表明或者字段名是一个特殊字符，键需要带``use west</span><br></pre></td></tr></table></figure>



<p>4、查看数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showw databases; -- 查看所有的数据库</span><br></pre></td></tr></table></figure>



<p>2.2、数据库的列类型</p>
<blockquote>
<p>数组</p>
</blockquote>
<ul>
<li>tinyint        十分小的数据        1个字节</li>
<li>smallintint  较小的数据           2个字节</li>
<li>mediumint  中等大小的数据    3个字节</li>
<li>int                标准的整数          4个字节</li>
<li>bigint           较大的数据          8个字节</li>
<li>float              浮点数                4个字节</li>
<li>double          浮点数                8个字节（精度缺失）</li>
<li>decimal         字符串形式的浮点数     用于金融计算</li>
</ul>
<blockquote>
<p>字符串</p>
</blockquote>
<ul>
<li>char           字符串固定大小的    0~255</li>
<li>varchar       可变字符串      0~65535    常用的变量   Sting</li>
<li>tinytext        微信文本         2^8-1</li>
<li>text              文本串            2^16-1      保存大文本</li>
</ul>
<blockquote>
<p>时间日期</p>
</blockquote>
<p>java.util.Date</p>
<ul>
<li><p>date        YYYY-MM-DD, 日期格式</p>
</li>
<li><p>time        HH:  mm :  ss    时间格式</p>
</li>
<li><p><strong>datetime       YYYY-MM-DD    HH:  mm:  ss   最常用的时间格式</strong></p>
</li>
<li><p><strong>timestamp   时间戳，  1970.1.1到现在的毫秒数！</strong></p>
<p>可以加NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP会显示当前的时间</p>
</li>
<li><p>year  年份表示</p>
</li>
</ul>
<blockquote>
<p>null</p>
</blockquote>
<ul>
<li>没有值，未知</li>
<li>==注意，不要使用NULL进行运算，结果为NULL==</li>
</ul>
<h3 id="2-3、数据库的字段属性（重点）"><a href="#2-3、数据库的字段属性（重点）" class="headerlink" title="2.3、数据库的字段属性（重点）"></a>2.3、数据库的字段属性（重点）</h3><p>==Unsigned==</p>
<ul>
<li>无符号的整数</li>
<li>声明了该列不能声明为负数</li>
</ul>
<p>==zerofill==</p>
<ul>
<li>0填充的</li>
<li>不足的位数，使用0来填充，int(3),    500</li>
</ul>
<p>==自增：==</p>
<ul>
<li>通常理解为自增，自动为上一条记录的基础上 + 1（默认）</li>
<li>通常用来设计唯一的主键~ index，必须是整数类型</li>
<li>可以自定义设计主键自增的起始值和步长</li>
</ul>
<p>==非空== NULL not null</p>
<ul>
<li>假设设置为 not null，如果不给它赋值，就会报错！</li>
<li>NULL，如果不填写值，默认就是null!</li>
</ul>
<h3 id="2-4、创建数据库表"><a href="#2-4、创建数据库表" class="headerlink" title="2.4、创建数据库表"></a>2.4、创建数据库表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `information`(	`id` INT(4) NOT NULL AUTO_INCREMENT COMMENT &#x27;学生id&#x27;,	`name` VARCHAR(10) DEFAULT &#x27;匿名名字&#x27; NOT NULL COMMENT &#x27;学生姓名&#x27;,	`age` INT(2) NOT NULL `school``information``information``information` COMMENT &#x27;学生年龄&#x27;,	`sex` VARCHAR(2) DEFAULT &#x27;男&#x27; COMMENT &#x27;学生性别&#x27;,	`birthday` DATETIME DEFAULT NULL COMMENT &#x27;出生日期&#x27;,	PRIMARY KEY(`id`))ENGINE=INNODB DEFAULT CHARSET=utf8</span><br></pre></td></tr></table></figure>



<p>常用命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database 数据库名 --查看创建数据库的语句show create table	表名 --查看创建表的语句DESC 表名	--显示表的结构</span><br></pre></td></tr></table></figure>



<h3 id="2-5、数据表的类型"><a href="#2-5、数据表的类型" class="headerlink" title="2.5、数据表的类型"></a>2.5、数据表的类型</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 关于数据库引擎/*INNODB	默认使用MYISAM	早些年使用的*/</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody><tr>
<td>事务支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文索引</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>表空间的大小</td>
<td>较小</td>
<td>较大，约为2倍</td>
</tr>
</tbody></table>
<p>常规使用操作：</p>
<ul>
<li>MYISAM    节约空间，速度较快</li>
<li>INNODB     安全性高，事务的处理，多表多用户操作</li>
</ul>
<blockquote>
<p>在物理空间存在的位置</p>
</blockquote>
<p>所有的数据库文件都存在data目录下</p>
<p>本质还是文件的存储！</p>
<p>MySQL 引擎在物理文件上的区别</p>
<ul>
<li>INNODB 在数据库中只有一个*.frm文件，以及上级目录下的 ibdata1文件</li>
<li>MYISAM对应文件<ul>
<li>*.frm        表结构的定义文件</li>
<li>*.MYD      数据文件（data）</li>
<li>*.MYI        索引文件（index）</li>
</ul>
</li>
</ul>
<blockquote>
<p>设置数据库表的字符集编码</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHARSET=utf8</span><br></pre></td></tr></table></figure>

<p>不设置的话，会是mysql默认的字符集编码~（不支持中文！）</p>
<p>mysql的默认编码是Latin1，不支持中文</p>
<p>在my.ini中配置默认的编码</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">character-set-server</span>=utf8</span><br></pre></td></tr></table></figure>



<h3 id="2-6、修改删除表"><a href="#2-6、修改删除表" class="headerlink" title="2.6、修改删除表"></a>2.6、修改删除表</h3><blockquote>
<p>修改</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名ALTER TEBLE teacher RENAME AS techer1-- 增加表的字段ALTER TABLE teacher ADD `name` VARCHAR(10)-- 修改表的字段-- ALTER TABLE 表名 MODIFY 字段名 列属性[]ALTER TABLE teacher MODIFY age VARCHAR(11) -- 修改约束-- ALTER TABLE 表名 MODIFY 旧名字 新名字 列属性[]ALTER TEBLE teacher CHANGE age age1 int(5) --字段重命名-- 删除表的字段ALTER TABLE teacher2 DROP age1</span></span><br></pre></td></tr></table></figure>



<h2 id="3、MySQL数据管理"><a href="#3、MySQL数据管理" class="headerlink" title="3、MySQL数据管理"></a>3、MySQL数据管理</h2><h3 id="3-1、外键（了解即可）"><a href="#3-1、外键（了解即可）" class="headerlink" title="3.1、外键（了解即可）"></a>3.1、外键（了解即可）</h3><blockquote>
<p>方式一、在创建表的时候，增加约束（麻烦，比较复杂）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `grade`(    `gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,    `gradename` <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名字&#x27;</span>,    <span class="keyword">PRIMARY</span> KEY(`gradeid`))ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 <span class="comment">-- 学生表的gradeid 字段 要去引用年级表的gradeid-- 定义外键key-- 给这个外键添加约束（执行引用） references 引用CREATE TABLE `student`(    `id` INT(10) NOT NULL AUTO_INCREMENT COMMENT &#x27;学生id&#x27;,            `name` VARCHAR(10) NOT NULL COMMENT &#x27;学生名字&#x27;,    `gradeid` INT(10) NOT NULL COMMENT &#x27;学生年级&#x27;,    PRIMARY KEY (`id`),    KEY `FK_gradeid` (`gradeid`),    CONSTRAINT `Fk_grade` FOREIGN KEY (`gradeid`) REFERENCES `grade`(`gradeid`))ENGINE=INNODB DEFAULT CHARSET=utf8 </span></span><br></pre></td></tr></table></figure>



<p>删除有外键关系的表的时候，必须要先删除引用别人的表（从表），在删除被引用的表（主表）</p>
<blockquote>
<p>方式二：创建表成功后，添加外键约束</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `grade`(    `gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,    `gradename` <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名字&#x27;</span>,    <span class="keyword">PRIMARY</span> KEY(`gradeid`))ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 <span class="comment">-- 学生表的gradeid 字段 要去引用年级表的gradeid-- 定义外键key-- 给这个外键添加约束（执行引用） references 引用CREATE TABLE `student`( `id` INT(10) NOT NULL AUTO_INCREMENT COMMENT &#x27;学生id&#x27;, `name` VARCHAR(10) NOT NULL COMMENT &#x27;学生名字&#x27;, `gradeid` INT(10) NOT NULL COMMENT &#x27;学生年级&#x27;, PRIMARY KEY (`id`)  )ENGINE=INNODB DEFAULT CHARSET=utf8;-- 创建表的时候没有外键关系ALTER TABLE `student`ADD CONSTRAINT `FK_gradeid` FOREIGN KEY (`gradeid`) REFERENCES `grade`(`gradeid`)-- ALTER TABLE 表名 ADD CONSTRAINT 约束名 FOREIGN KEY (`作为外键的列`) REFERENCES `哪个表`(`哪个字段`)</span></span><br></pre></td></tr></table></figure>



<h3 id="3-2、DML语言（全部记住）"><a href="#3-2、DML语言（全部记住）" class="headerlink" title="3.2、DML语言（全部记住）"></a>3.2、DML语言（全部记住）</h3><p><strong>数据库意义</strong>：数据存储，数据管理</p>
<p>DML语言：数据操作语言</p>
<ul>
<li>Insert</li>
<li>update</li>
<li>delete</li>
</ul>
<h3 id="3-3、添加"><a href="#3-3、添加" class="headerlink" title="3.3、添加"></a>3.3、添加</h3><blockquote>
<p>insert</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入语言（添加）-- insert into 表名([字段1，字段2，字段3]) values(&#x27;值1&#x27;),(&#x27;值2&#x27;)……INSERT INTO `grade`(`gradename`) vlaues(&#x27;大四&#x27;)-- 由于主键自增我们可以省略（如果不写表的字段，他就会一一匹配）INSERT INTO `grade` vlaues(&#x27;大三&#x27;)-- 一般写插入语言，我们一定要数据和字段一一对应！-- 插入多个字段INSERT INTO `grade`(`gradename`) vlaues(&#x27;大二&#x27;),(&#x27;大三&#x27;)INSERT INTO `student`(`name`) values(&#x27;张三&#x27;)INSERT INTO `student`(`name`,`pwd`,`sex`) vlaues(&#x27;张三&#x27;,&#x27;aaaa&#x27;,&#x27;男&#x27;)INSERT INTO `student`(`name·,`pwd`,`sex`)vlaues(&#x27;李四&#x27;,&#x27;a&#x27;,&#x27;男&#x27;),vlaues(&#x27;王五&#x27;,&#x27;aaa&#x27;,&#x27;男&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>语法：<code>insert into 表名([字段名1，字段名2，字段名3]values(&#39;值1&#39;),(&#39;值2&#39;),(&#39;值3&#39;),...</code></p>
<p>注意事项：</p>
<ol>
<li>字段和字段之间使用英文逗号隔开</li>
<li>字段可以是省略的，但是后面的值必须要一一对应，不能少</li>
<li>可以同时插入多条数据，values后面的值，需要使用，隔开即可，<code>values(),()...</code></li>
</ol>
<h3 id="3-4、修改（update）"><a href="#3-4、修改（update）" class="headerlink" title="3.4、修改（update）"></a>3.4、修改（update）</h3><blockquote>
<p>update 修改谁（条件） set原来的值=新值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改学员名字UPDATE `student` SET NAME=&#x27;kangkang&#x27; WHERE id=1-- 不能定条件的情况下，会改变所有表！UPDATE `student` SET NAME=&#x27;kangkang&#x27;-- 修改多个属性，逗号隔开UPDATE `student` SET NAME=&#x27;xixi&#x27;,gradeid=3 WHERE id=4-- 语法-- UPDATE 表名 set colnum_name = value,[colnum_name = value....] where [条件]</span></span><br></pre></td></tr></table></figure>

<p>条件：where子句 运算符 id 等于某个值，大于某个值，在某个区间内修改……</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>等于</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
<td>5&gt;6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
<td>5&lt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>BETWEEN… and..</td>
<td>在某个范围内</td>
<td>[2,5]</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>我和你 &amp;&amp;</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>OR</td>
<td>我或你 ||</td>
<td>5&gt;1 or 1&gt;2</td>
<td>true</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过多个条件定位数据UPDATE `student` SET `name`=`7号` WHERE `name`=&#x27;kangkang&#x27; and `sex`=&#x27;女&#x27; </span></span><br></pre></td></tr></table></figure>

<p>语法：<code>UPDATE 表名 set colnum_name = value,[colnum_name = value....] where [条件]</code></p>
<p>注意：</p>
<ul>
<li>colnum_name 是数据库的列，尽量带上``</li>
<li>条件，筛选的条件，如果没有指定，则会修改所有的列</li>
<li>value，是一个具体的值，也可以是一个变量</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `student` <span class="keyword">SET</span> `<span class="type">time</span>`<span class="operator">=</span><span class="built_in">CURRENT_TIME</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;kang&#x27;</span> <span class="keyword">AND</span> `gradeid`<span class="operator">=</span><span class="string">&#x27;2&#x27;</span>; </span><br></pre></td></tr></table></figure>

<h3 id="3-5、修改（Alter）"><a href="#3-5、修改（Alter）" class="headerlink" title="3.5、修改（Alter）"></a>3.5、修改（Alter）</h3><p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210829200538226.png" alt="image-20210829200538226"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#在指定的字段后面添加列ALTER TABLE student ADD`image` VARCHAR(20) NOT NULL DEFAULT &#x27;&#x27; AFTER 性别;#修改列的属性ALTER TABLE student MODIFY image VARCHAR(60)#删除列ALTER TABLE student DROP image;#修改表名RENAME TABLE student TO students;#修改表字符集ALTER TABLE students CHARACTER SET utf8;#修改表字段的名称ALTER TABLE students CHANGE `性别` `sex` CHAR(1);#查看表结构DESC students;</span><br></pre></td></tr></table></figure>



<h3 id="3-6、删除"><a href="#3-6、删除" class="headerlink" title="3.6、删除"></a>3.6、删除</h3><blockquote>
<p>delete命令</p>
</blockquote>
<p>语法：<code>delete from 表名 [where 条件]</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除数据 （避免这么写，会全部删除）DELETE FROM `表名`-- 删除指定数据DELETE FROM `grade` WHERE `gradeid`=1</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>TRUNCATE</p>
</blockquote>
<p>作用：完全清空一个数据库表，表的结构和索引约束不会改变！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 清空 grade表TRUNCATE `grade`</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>delete 和 TRUNCATE 区别</p>
</blockquote>
<ul>
<li>相同点：都能删除数据，都不会删除表结构</li>
<li>不同：<ul>
<li>TRUNCATE 重新设置 自增列 计数器归零</li>
<li>TRUNCATE 不会影响事务</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 测试delete和TRUNCATE区别CREATE TABLE `test`(    `id` INT(10) NOT NULL AUTO_INCREMENT COMMENT &#x27;id&#x27;,    `coll` VARCHAR(20) NOT NULL COMMENT &#x27;coll&#x27;,    PRIMARY KEY(`id`))ENGINE=INNODB DEFAULT CHARSET=utf8INSERT INTO `test`(`coll`) VALUES(&#x27;1&#x27;),(&#x27;2&#x27;),(&#x27;3&#x27;),(&#x27;4&#x27;) DELETE FROM `test` -- 不会影响自增TRUNCATE `test` -- 自增会归零</span></span><br></pre></td></tr></table></figure>

<p>了解即可：<code>DELETE删除的问题</code>，重启数据库，现象</p>
<ul>
<li>InnoDB 自增列会重1开始（处在内存当中的，断电即失）</li>
<li>MyISAM 继续从上一个自增量开始（存在文件中的，不会丢失）</li>
</ul>
<h3 id="3-7、表复制"><a href="#3-7、表复制" class="headerlink" title="3.7、表复制"></a>3.7、表复制</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- 把某个表的记录复制到另外一个表insert into my_table01(id,`name`,sal,job,deptno)select empno, ename, sal, job, deptno from emp;-- 自我复制insert into my_tab01select * from my_tab01;-- 把emp表的结构(列)，复制到my_tab02create table my_tab02 lik</span><br></pre></td></tr></table></figure>



<h2 id="4、DQL查询数据（最重点）"><a href="#4、DQL查询数据（最重点）" class="headerlink" title="4、DQL查询数据（最重点）"></a>4、DQL查询数据（最重点）</h2><h3 id="4-1、DQL"><a href="#4-1、DQL" class="headerlink" title="4.1、DQL"></a>4.1、DQL</h3><p>(Data Query LANGUAGE : 数据查询语言)</p>
<ul>
<li>所有的数据查询操作都用它 Select</li>
<li>简单的查询，复杂的查询它都能做</li>
<li><strong>数据库中最核心的语言，最重要的语句</strong></li>
<li>使用频繁最高的语句</li>
</ul>
<h3 id="4-2、指定查询字段"><a href="#4-2、指定查询字段" class="headerlink" title="4.2、指定查询字段"></a>4.2、指定查询字段</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询全部的学生 selecte 字段 from 表SELECT * FROM `student`-- 查询指定的字段 SELECT `studentno`,`studentname` FROM student-- 别名,给结果起一个名字 AS 可以给字段起别名，也可以给表起别名SELECT `studentno` AS 学号,`studentname` AS `姓名` FROM student-- 函数 Concat(a, b)SELECT CONCAT(&#x27;姓名:&#x27;,studentname) AS 新名字 FROM student</span></span><br></pre></td></tr></table></figure>

<p>语法：<code>selecte 字段... from 表</code></p>
<p><img src="D:\md图片路径\image-20210413111140849.png" alt="image-20210413111140849"></p>
<blockquote>
<p>有的时候，列名字不是那么的见名知意，我们起别名 AS 字段名 AS 别名 表名 AS 别名</p>
</blockquote>
<blockquote>
<p>去重 distinct</p>
</blockquote>
<p>作用：去除SELECT查询出来的结果中重复的数据，只显示一条</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询一下哪些同学参加了考试，成绩SELECT * FROM result -- 查询全部的考试成绩SELECT `studentno` FROM result -- 查询有哪些同学参加了考试SELECT DISTINCT `studentno` FROM result  -- 发现重复数据，去重</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>数据库的列（表达式）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> VERSION() <span class="comment">-- 查询系统版本（函数）SELECT 100*3-1 AS 计算结果 -- 用来计算（表达式）SELECT @@auto_increment_increment -- 查询自增的步长（变量）-- 学员考试成绩 + 1分查看SELECT `studentno`,`studentresult`+1 AS 加分后成绩 FROM result</span></span><br></pre></td></tr></table></figure>

<p>==数据库中的表达式：文本值，列，NUll，函数，计算表达式，系统变量…==</p>
<p>select <code>表达式</code> from 表</p>
<h3 id="4-3、where-条件子句"><a href="#4-3、where-条件子句" class="headerlink" title="4.3、where 条件子句"></a>4.3、where 条件子句</h3><p>作用：检查数据中<code>符合条件</code>的值</p>
<blockquote>
<p>逻辑运算符</p>
</blockquote>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>and   &amp;&amp;</td>
<td>a and b   a &amp;&amp; b</td>
<td>逻辑与  两个为真，则为真</td>
</tr>
<tr>
<td>or      ||</td>
<td>a or b   a || b</td>
<td>逻辑或  一个为真，则为真</td>
</tr>
<tr>
<td>not    !</td>
<td>not a     !a</td>
<td>逻辑非 真即假，假即真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询考试成绩-- and &amp;&amp;SELECT `studentno`,`studentresult` FROM `result`WHERE studentresult&gt;90 AND studentresult &lt;=100SELECT `studentno`,`studentresult` FROM `result`WHERE studentresult&gt;80 &amp;&amp; studentresult &lt;=90-- 模糊查询（区间）SELECT `studentno`,`studentresult` FROM `result`WHERE studentresult BETWEEN 50 AND 70 -- 查询studentno为1000的成绩SELECT `studentno`,`studentresult` FROM `result`WHERE (studentno != 1001 AND studentno != 1002 AND studentno != 1003)-- 查询studentno以外的成绩SELECT `studentno`,`studentresult` FROM `result`WHERE NOT studentno = 1000</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>模糊查询：比较运算符</p>
</blockquote>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>IS NULL</td>
<td>a is null</td>
<td>如果操作符为NULL,结果为真</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>a is not null</td>
<td>如果操作符不为null,结果为真</td>
</tr>
<tr>
<td>BETWEEN</td>
<td>a between b and c</td>
<td>若a在b和c之间，则结果为真</td>
</tr>
<tr>
<td>Like</td>
<td>a like b</td>
<td>SQL匹配，如果a匹配B，则结果为真</td>
</tr>
<tr>
<td>In</td>
<td>a In b</td>
<td>假设a在a1,或者a2…..其中的某一个值中，结果为真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ========================================== 模糊查询 ==========================================-- 查询姓张的同学SELECT `studentno`,`studentname` FROM `student`WHERE `studentname` LIKE &#x27;张%&#x27;-- 查询姓张的，后面有一个名字SELECT `studentno`,`studentname` FROM `student`WHERE `studentname` LIKE &#x27;张_&#x27;-- 查询姓张的，后面有两个名字SELECT `studentno`,`studentname` FROM `student`WHERE `studentname` LIKE &#x27;张__&#x27;-- 查询中间字为红SELECT `studentno`,`studentname` FROM `student`WHERE `studentname` LIKE &#x27;%红%&#x27;-- ========== in (具体的 一个或者多个值) ===========-- 查询 1001，1002，1003学员SELECT `studentno`,`studentname` FROM `student`WHERE `studentno` IN (1001,1002,1003)-- 查询在福建的学生SELECT `studentno`,`studentname` FROM `student`WHERE `address` IN (&#x27;福建泉州&#x27;,&#x27;广西南宁&#x27;)-- ===== null 	not null======-- 查询地址为空的学生 null &#x27;&#x27;SELECT `studentno`,`studentname` FROM `student`WHERE address = NULL OR address = &#x27;&#x27;-- 查询出生日期不为空的学生SELECT `studentno`,`studentname` FROM `student`WHERE borndate IS NOT NULL-- 查询出生日期不为空的学生SELECT `studentno`,`studentname` FROM `student`WHERE borndate IS NULL</span></span><br></pre></td></tr></table></figure>



<h3 id="4-4、联表查询"><a href="#4-4、联表查询" class="headerlink" title="4.4、联表查询"></a>4.4、联表查询</h3><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg2018.cnblogs.com%2Fblog%2F1247221%2F201901%2F1247221-20190112202526194-1177810161.png&refer=http%3A%2F%2Fimg2018.cnblogs.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1620695480&t=70875611a9b5c5f46c55ef0820fe1118" alt="img"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ================== join ========================SELECT s.studentno,studentname,subjectno,studentresultFROM student AS sINNER JOIN result AS ron s.studentno = r.studentno-- Right JoinSELECT s.studentno,studentname,subjectno,studentresultFROM student sRIGHT JOIN result rON s.studentno = r.studentno-- Left JoinSELECT s.studentno,studentname,subjectno,studentresultFROM student sLEFT JOIN result rON r.studentno = s.studentno</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>inner join</td>
<td>如果表中至少有一个匹配，就返回行</td>
</tr>
<tr>
<td>left join</td>
<td>会从左表中返回所有的值，即使右表中没有匹配的</td>
</tr>
<tr>
<td>right join</td>
<td>会从右表中返回所有的值，即使左表中国没有匹配的</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 思考题（查询了参加考试的同学信息：学号，学生姓名，科目名，分数）/*1.分析需求，分析查询的字段来自哪些表，student、result、subject(连接查询)2。确定使用哪种连接查询？7种确定交叉点（这两个表中哪个数据式相同的）判断的条件：学生表中的 studentno = 成绩表 studentno*/SELECT s.studentno,studentname,subjectname,studentresultFROM student sRIGHT JOIN result rON r.studentno = r.studentnoINNER JOIN `subject` subON r.subjectno = sub.subjectnoSELECT s.studentno,studentname,subjectname,studentresultFROM student sRIGHT JOIN result rON r.studentno = r.studentnoLEFT JOIN `subject` subON r.subjectno = sub.subjectno-- 我要查询哪些数据 select ...-- 从那几个表中查FROM 表 XXX Join 连接的表 on 交叉条件-- 假设存在一种多张表查询，慢慢来，先查询的两张表然后再慢慢增加</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>自连接</p>
</blockquote>
<p>==自己的表和自己连接，核心：一张表拆为两张一样的表即可==</p>
<p>父类</p>
<table>
<thead>
<tr>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>信息技术</td>
</tr>
<tr>
<td>3</td>
<td>软件开发</td>
</tr>
<tr>
<td>5</td>
<td>美术设计</td>
</tr>
</tbody></table>
<p>子类</p>
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td>4</td>
<td>数据库</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>办公信息</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>web开发</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ps技术</td>
</tr>
</tbody></table>
<p>操作：查询父类对应的子类关系</p>
<table>
<thead>
<tr>
<th>父类</th>
<th>子类</th>
</tr>
</thead>
<tbody><tr>
<td>信息技术</td>
<td>办公信息</td>
</tr>
<tr>
<td>软件开发</td>
<td>数据库</td>
</tr>
<tr>
<td>软件开发</td>
<td>web开发</td>
</tr>
<tr>
<td>美术设计</td>
<td>ps技术</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询父子信息：把一张表看为两个一模一样的表`subject`SELECT a.`categoryName` AS &#x27;父栏目&#x27;,b.`categoryName` AS &#x27;子栏目&#x27;FROM `category` AS a, `category` AS bWHERE a.`categoryid` = b.`pid`</span></span><br></pre></td></tr></table></figure>



<h3 id="4-5、分页和排序"><a href="#4-5、分页和排序" class="headerlink" title="4.5、分页和排序"></a>4.5、分页和排序</h3><blockquote>
<p>分页</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ===============分页 limit 和排序 order by============-- 排序： 升序ASC，降序DESC-- order by 通过那个字段排序，怎么排-- 查询的结果根据 成绩降序 排序SELECT s.`studentno`,`studentname`,`subjectname`,`studentresult`FROM `student` sINNER JOIN `result` rON s.studentno = r.studentnoINNER JOIN `subject` subON r.subjectno = sub.subjectnoWHERE subjectname = &#x27;高等数学-1&#x27;ORDER BY studentresult ASC</span></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 100万-- 为什么要分页？-- 缓解数据库压力，给人的体验更好，瀑布流-- 分页，每页只显示五条数据-- 语法：limit 当前页，页面的大小SELECT s.`studentno`,`studentname`,`subjectname`,`studentresult`FROM `student` sINNER JOIN `result` rON s.studentno = r.studentnoINNER JOIN `subject` subON r.subjectno = sub.subjectnoWHERE subjectname = &#x27;高等数学-1&#x27;ORDER BY studentresult ASC LIMIT 1,2-- 第一页  limit 0,5	(1-1) * 5-- 第二页  limit 1,5	(2-1) * 5-- 第三页  limit 2,5	(3-1) * 5-- 第n页  limit n,5	(n-1) * pageSize-- 【pageSize:页面大小】-- 【(n-1)*pageSize:起始值】-- 【n:当前页】-- 【数据总数/页面大小 = 总页数】</span></span><br></pre></td></tr></table></figure>

<p>语法：<code>limit(查询起始下标，pageSize0)</code></p>
<h3 id="4-6、子查询"><a href="#4-6、子查询" class="headerlink" title="4.6、子查询"></a>4.6、子查询</h3><p>where (这个值是计算出来的)</p>
<p>本质：<code>在where语句嵌套一个子查询语句</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============================where========================-- 1、查询 高等数学-1的所有考试结果（学号，科目编号，成绩），降序排序-- 方式一：使用连接查询SELECT `studentno`,r.subjectno,`studentresult`FROM `result` rINNER JOIN `subject` subON r.subjectno = sub.subjectnoWHERE subjectname = &#x27;高等数学-1&#x27;ORDER BY studentresult DESC-- 方式二：使用子查询（由里及外）-- 查询所有高等数学-1的学生学号SELECT `studentno`,`subjectno`,`studentresult`FROM `result`WHERE  subjectno = (SELECT `subjectno`FROM `subject` WHERE `subjectname` = &#x27;高等数学-1&#x27;)ORDER BY `studentresult` DESC-- 分数不小于80分的学生的学号和姓名SELECT s.`studentno`,`studentname`FROM `student` sINNER JOIN `result` rON s.studentno = r.studentnoWHERE `studentresult` &gt; 80 -- 查询课程为 高等数学-1 且分数不小于 80 的同学的学号和姓名SELECT s.`studentno`,`studentname`FROM `student` sINNER JOIN result rON s.studentno = r.studentnoINNER JOIN `subject` subON r.subjectno = sub.subjectnoWHERE subjectname = &#x27;高等数学-1&#x27; AND studentresult &gt; 80SELECT s.`studentno`,`studentname`FROM `student` sINNER JOIN `result` rON s.studentno = r.studentnoWHERE `studentresult` &gt; 80 AND `subjectno` = (SELECT `subjectno` FROM `subject` WHERE subjectname= &#x27;高等数学-1&#x27;)-- 在改造（由里及外）SELECT studentno,studentname FROM student WHERE studentno IN(    SELECT studentno FROM `result` WHERE studentresult &gt; 80 AND subjectno = (	SELECT subjectno FROM `subject` WHERE subjectname= &#x27;高等数学-1&#x27;    ))-- 练习:查询 高等数学-1 前3名同学的成绩的信息（学号，姓名，成绩）SELECT s.`studentno`,`studentname`,`studentresult`FROM student s INNER JOIN result rON s.studentno = r.studentnoINNER JOIN `subject` sub ON r.subjectno = sub.subjectnoWHERE subjectname =  &#x27;高等数学-1&#x27;ORDER BY studentresult DESCLIMIT 0,3SELECT s.`studentno`,`studentname`FROM student sINNER JOIN `result` rON s.studentno = r.studentnoWHERE  subjectno = (SELECT `subjectno` FROM `subject` WHERE subjectname = &#x27;高等数学-1&#x27;)</span></span><br></pre></td></tr></table></figure>



<h3 id="4-7、分组和过滤"><a href="#4-7、分组和过滤" class="headerlink" title="4.7、分组和过滤"></a>4.7、分组和过滤</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询不同课程的平均分，最高分，最低分，平均分大于80-- 核心：（根据不同的课程分组）SELECT subjectname,AVG(studentresult) AS 平均分,MAX(studentresult) AS 最大值,MIN(studentresult) AS 最小值FROM result rINNER JOIN `subject` subON r.`subjectno` = sub.`subjectno`GROUP BY r.subjectno -- 通过什么字段来分组HAVING 平均分 &gt;80</span></span><br></pre></td></tr></table></figure>



<h2 id="5、MySQL函数"><a href="#5、MySQL函数" class="headerlink" title="5、MySQL函数"></a>5、MySQL函数</h2><p>官网：<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/sql-function-reference.html">https://dev.mysql.com/doc/refman/5.7/en/sql-function-reference.html</a></p>
<h3 id="5-1、常用函数"><a href="#5-1、常用函数" class="headerlink" title="5.1、常用函数"></a>5.1、常用函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ======================常用函数=======================-- 数字运算SELECT ABS(-8) -- 绝对值SELECT CEILING(9.4) -- 向上取整SELECT FLOOR(9.4) -- 向下取整SELECT RAND() -- 返回一个0-1之间的随机数SELECT SIGN(10) -- 判断一个数的符号 0=0 负数返回-1 正数返回1-- 字符串函数SELECT CHAR_LENGTH(&#x27;即使再少的饭也能干完&#x27;) -- 返回字符串长度SELECT CONCAT(&#x27;我&#x27;,&#x27;爱&#x27;,&#x27;你&#x27;) -- 拼接字符串SELECT INSERT(&#x27;我爱编程HelloWorld&#x27;,1,2,&#x27;超级热爱&#x27;) -- 查询，从某个位置开始替换某个长度SELECT LOWER(&#x27;Kangkang&#x27;) -- 小写字母SELECT UPPER(&#x27;kangkang&#x27;) -- 大写字母SELECT INSTR(&#x27;kuangshen&#x27;,&#x27;h&#x27;) -- 返回第一次出现的子串的索引SELECT REPLACE(&#x27;坚持就是胜利&#x27;,&#x27;坚持&#x27;,&#x27;努力&#x27;) -- 替换出现的指定字符串SELECT SUBSTR(&#x27;坚持就是胜利&#x27;,2,3) -- 返回指定的子字符串（源字符串,截取的位置，截取的长度）SELECT REVERSE(&#x27;清晨我上马&#x27;) -- 反转-- 查询性康的同学，名字改为坑SELECT REPLACE(studentname,&#x27;张&#x27;,&#x27;坑&#x27;)FROM studentWHERE studentname LIKE &#x27;张%&#x27;-- 时间和日期函数（记住）SELECT CURRENT_DATE() -- 获取当前日期SELECT CURDATE() -- 获取当前日期SELECT NOW() -- 获取当前的时间SELECT LOCALTIME() -- 本地时间SELECT SYSDATE() -- 系统时间SELECT YEAR(NOW())SELECT MONTH(NOW())SELECT DAY(NOW())SELECT HOUR(NOW())SELECT MINUTE(NOW())SELECT SECOND(NOW())-- 系统SELECT SYSTEM_USER()SELECT USER()SELECT VERSION()</span></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210830203119470.png" alt="image-20210830203119470"></p>
<p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210830204334203.png" alt="image-20210830204334203"></p>
<p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210831143336963.png" alt="image-20210831143336963"></p>
<h3 id="5-2、聚合函数（常用）"><a href="#5-2、聚合函数（常用）" class="headerlink" title="5.2、聚合函数（常用）"></a>5.2、聚合函数（常用）</h3><table>
<thead>
<tr>
<th>函数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT()</td>
<td>计数</td>
</tr>
<tr>
<td>SUM()</td>
<td>求和</td>
</tr>
<tr>
<td>AVG()</td>
<td>平均值</td>
</tr>
<tr>
<td>MAX()</td>
<td>最大值</td>
</tr>
<tr>
<td>MIN()</td>
<td>最小值</td>
</tr>
<tr>
<td>……</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =======================聚合函数======================-- 都能够统计 表中的数据SELECT COUNT(`studentname`) FROM student; -- Count(字段)，会忽略锁的null值SELECT COUNT(*) FROM student -- count(*) 不会忽略null值,本质 计算行数SELECT COUNT(1) FROM student -- count(1) 不会忽略所有的null值 本质 计算行数SELECT SUM(`studentresult`) AS 总和 FROM result;SELECT AVG(`studentresult`) AS 平均数 FROM result;SELECT MAX(`studentresult`) AS 最高分 FROM result;SELECT MIN(`studentresult`) AS 最低分 FROM result;</span></span><br></pre></td></tr></table></figure>



<h3 id="5-3、数据库级别的MD5加密（扩展）"><a href="#5-3、数据库级别的MD5加密（扩展）" class="headerlink" title="5.3、数据库级别的MD5加密（扩展）"></a>5.3、数据库级别的MD5加密（扩展）</h3><p>什么是MD5?</p>
<p>主要增强算法复杂度和不可逆性</p>
<p>MD5不可逆，具体的值的md5是一样的</p>
<p>MD5破解网站的原理，背后有一个字典，MD5加密后的值，加密前的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =======================MD5================================CREATE TABLE `testMD5` (   `id` INT(4) NOT NULL,   `name` VARCHAR(20),   `pwd` VARCHAR(50),   PRIMARY KEY (`id`))ENGINE=INNODB DEFAULT CHARSET=utf8-- 明文密码INSERT INTO `testmd5` VALUES(1,&#x27;张三&#x27;,&#x27;123456&#x27;),(2,&#x27;李四&#x27;,&#x27;123456&#x27;),(3,&#x27;小康&#x27;,&#x27;123456&#x27;)-- 加密UPDATE testmd5 SET pwd=MD5(pwd) WHERE id=4UPDATE testmd5 SET `pwd`=MD5(`pwd`) -- 加密全部密码-- 插入时加密INSERT INTO `testmd5` VALUES(4,&#x27;小明&#x27;,MD5(&#x27;123456&#x27;))-- 如何校验，将用户传递进来的密码，进行md5加密，然后对比加密后的值SELECT * FROM `testmd5` WHERE `name` = &#x27;小明&#x27; AND `pwd`=MD5(MD5(&#x27;123456&#x27;))</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4、流程控制语句"><a href="#5-4、流程控制语句" class="headerlink" title="5.4、流程控制语句"></a>5.4、流程控制语句</h3><p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210831163419694.png" alt="image-20210831163419694"></p>
<h2 id="6、事务"><a href="#6、事务" class="headerlink" title="6、事务"></a>6、事务</h2><h3 id="6-1、什么是事务"><a href="#6-1、什么是事务" class="headerlink" title="6.1、什么是事务"></a>6.1、什么是事务</h3><p>==要么都成功，要么都失败==</p>
<p>————————</p>
<p>1、SQL执行 A 给 B 转账    A 1000    —&gt;200    B 200</p>
<p>2、SQL执行 B 收到 A 的钱    A 1000    —&gt;200    B 200</p>
<p>————————</p>
<p>将一组SQL放在一个批次中去执行-</p>
<blockquote>
<p>事务原则：ACID原则     原则性，一致性，持久性，隔离性    （脏读，幻读）    </p>
</blockquote>
<p>参考博客连接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/dengjili/article/details/82468576">https://blog.csdn.net/dengjili/article/details/82468576</a></p>
<p><strong>原子性（Atomicity）</strong></p>
<p>要么都成功，要么都失败</p>
<p><strong>一致性（Consistency）</strong></p>
<p>事务前后的数据完整性要保证一致，1000</p>
<p><strong>持久化（Durability）</strong> – 事务提交</p>
<p>事务一旦提交则不可逆，被持久化到数据中！</p>
<p><strong>隔离性（Isolation）</strong></p>
<p>事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。</p>
<blockquote>
<p>隔离所导致的一些问题</p>
</blockquote>
<p><strong>脏读</strong></p>
<p>指一个事务读取了另外一个事务未提交的数据</p>
<p><strong>不可重复读</strong></p>
<p>在一个事务内读取表中的某一行数据，多次读书结果不同。（这个不一定是错误，只是某些场合不对）</p>
<p><strong>虚读（幻读）</strong></p>
<p>是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致</p>
<blockquote>
<p>执行事务</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ===================事务====================-- mysql 是默认开启事务自动提交的SET autocommit = 0 /* 关闭 */SET autocommit = 1 /* 开启(默认的) */-- 手动处理事务SET autocomit = 0 -- 关闭自动提交-- 事务开启START TRANSACTION -- 标记一个事务的开始，从这个之后的 sql 都在同一个事务内INSERT **INSERT **-- 提交 持久化(成功！)COMMIT-- 回滚：回到的原理的样子（失败！）ROLLBACK-- 事务结束SET autocommit = 1 -- 开启自动提交-- 了解SAVEPOINT 保存点名 -- 设置一个事务的保持点ROLLBACK TO SAVEPOINT 保存点名 -- 回滚到保存点RELEASE SAVEPOINT 保存点名 -- 撤销保存点</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>模拟场景</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `account`(   `id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,   `name` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,   `money` <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="comment">-- 9个数，两位小数   PRIMARY KEY (`id`))ENGINE=INNODB DEFAULT CHARSET=utf8INSERT INTO `account`(`name`,`money`) VALUES(&#x27;A&#x27;,&#x27;2000.00&#x27;),(&#x27;B&#x27;,&#x27;10000.00&#x27;)-- 关闭自动提交SET autocommit = 0-- 开启事务START TRANSACTIONUPDATE `account` SET money=money-500 WHERE `name` = &#x27;A&#x27;UPDATE `account` SET money=money+500 WHERE `name` = &#x27;B&#x27;-- 提交事务，就被持久化了COMMIT;-- 回滚ROLLBACK;SET autocommit = 1 -- 恢复默认值</span></span><br></pre></td></tr></table></figure>

<h3 id="6-2、引擎"><a href="#6-2、引擎" class="headerlink" title="6.2、引擎"></a>6.2、引擎</h3><p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210903145658874.png" alt="image-20210903145658874"></p>
<p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210903145739123.png" alt="image-20210903145739123"></p>
<p><img src="C:\Users\test\Desktop\md\MySql.assets\image-20210903145615227.png" alt="image-20210903145615227"></p>
<h2 id="7、索引"><a href="#7、索引" class="headerlink" title="7、索引"></a>7、索引</h2><blockquote>
<p>MySQL官方对索引 的定义为：<strong>索引(index) 是帮助MySQL高效获取数据的数据结构。</strong> 0.5s 000001s </p>
<p>提取句子主干，就可以的带索引的本质；索引是数据结构</p>
</blockquote>
<h3 id="7-1、索引的分类"><a href="#7-1、索引的分类" class="headerlink" title="7.1、索引的分类"></a>7.1、索引的分类</h3><ul>
<li>主键索引（PRIMARY KEY1）<ul>
<li>唯一的标识，主键不可重复，只能有一个列作为主键</li>
</ul>
</li>
<li>唯一的索引（UNIQUE KEY）<ul>
<li>避免重复的列出现，唯一索引可以重复，多个列都可以标识位 唯一索引</li>
</ul>
</li>
<li>常规索引（KEY/INDEX）<ul>
<li>默认的，index,key关键词来设置</li>
</ul>
</li>
<li>全文索引（FullText）<ul>
<li>MySQL 5.6 以前的版本，只有 MyISAM 存储引擎支持全文索引；</li>
<li>MySQL 5.6 及以后的版本，MyISAM 和 InnoDB 存储引擎均支持全文索引;</li>
<li>只有字段的数据类型为 char、varchar、text 及其系列才可以建全文索引。</li>
<li>快速定位数据</li>
</ul>
</li>
</ul>
<h3 id="7-2、测试索引"><a href="#7-2、测试索引" class="headerlink" title="7.2、测试索引"></a>7.2、测试索引</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建app_user表格CREATE TABLE `app_user` (`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,`name` VARCHAR(50) DEFAULT&#x27;&#x27; COMMENT&#x27;用户昵称&#x27;,`email` VARCHAR(50) NOT NULL COMMENT&#x27;用户邮箱&#x27;,`phone` VARCHAR(20) DEFAULT&#x27;&#x27; COMMENT&#x27;手机号&#x27;,`gender` TINYINT(4) UNSIGNED DEFAULT &#x27;0&#x27;COMMENT &#x27;性别（0：男;1:女）&#x27;,`password` VARCHAR(100) NOT NULL COMMENT &#x27;密码&#x27;,`age` TINYINT(4) DEFAULT&#x27;0&#x27;  COMMENT &#x27;年龄&#x27;,`create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,PRIMARY KEY (`id`)) ENGINE=INNODB DEFAULT CHARSET=utf8 COMMENT = &#x27;app用户表&#x27;-- 插入100万数据SET GLOBAL log_bin_trust_function_creators=1; -- 开启创建函数功能/*  第一个语句 delimiter 将 mysql 解释器命令行的结束符由”;” 改成了”$$”，  让存储过程内的命令遇到”;” 不执行*/DELIMITER $$CREATE FUNCTION mock_data()RETURNS INTBEGIN	DECLARE num INT DEFAULT 1000000;	DECLARE i INT DEFAULT 0;	WHILE i&lt;num DO		INSERT INTO `app_user`(`name`,`eamil`,`phone`,`gender`)VALUES(CONCAT(&#x27;用户&#x27;,i),&#x27;19224305@qq.com&#x27;,&#x27;123456789&#x27;,FLOOR(RAND()*2));		SET i=i+1;	END WHILE;	RETURN i;END;$$SELECT mock_data()$$ -- 执行此函数 生成一百万条数据SELECT * FROM app_user WHERE `name` = &#x27;用户9999&#x27;;EXPLAIN SELECT * FROM app_user WHERE `name` = &#x27;用户9999&#x27;;-- id_表名_字段名-- create index 索引名 on 表(字段)CREATE INDEX id_app_user_name ON app_user(`name`);SELECT * FROM app_user WHERE `name` = &#x27;用户999999&#x27;;EXPLAIN SELECT * FROM app_user WHERE `name` = &#x27;用户999999&#x27;;</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\md图片路径\image-20210414155421719.png" alt="image-20210414155421719"></p>
<p><img src="D:\md图片路径\image-20210414155626354.png" alt="image-20210414155626354"></p>
<p>==索引在小数据量的时候，用户不大，但是在大数据的时候，区别十分明显~==</p>
<h3 id="7-3、索引原则"><a href="#7-3、索引原则" class="headerlink" title="7.3、索引原则"></a>7.3、索引原则</h3><ul>
<li>索引不是越多越好</li>
<li>不要对进程变动数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上</li>
</ul>
<blockquote>
<p>索引的数据结构</p>
</blockquote>
<p>Hash 类型的索引</p>
<p>Btree：InnoDB的默认数据结构</p>
<p>阅读：<a target="_blank" rel="noopener" href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">http://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></p>
<h3 id="7-4、添加索引和删除索引"><a href="#7-4、添加索引和删除索引" class="headerlink" title="7.4、添加索引和删除索引"></a>7.4、添加索引和删除索引</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- 添加唯一索引CREATE UNIQUE INDEX index_id ON test(id);-- 添加普通索引方式1CREATE INDEX index_id ON test(id);-- 如何选择-- 1.如果某列的值，是不会重复的，则优先考虑使用unique索引，否则使用普通索引-- 添加普通索引方式2ALTER TABLE test ADD INDEX index_id (id);-- 添加主键索引ALTER TABLE test ADD PRIMARY KEY (id);-- 查看表索引情况SHOW INDEX FROM test;-- 删除索引DROP INDEX index_id ON test;-- 删除主键索引ALTER TABLE test DROP PRIMARY KEY</span><br></pre></td></tr></table></figure>



<h2 id="8、权限管理和备份"><a href="#8、权限管理和备份" class="headerlink" title="8、权限管理和备份"></a>8、权限管理和备份</h2><blockquote>
<p>SQL yog 可视化管理</p>
</blockquote>
<p><img src="D:\md图片路径\image-20210415110230487.png" alt="image-20210415110230487"></p>
<h3 id="8-1、用户管理"><a href="#8-1、用户管理" class="headerlink" title="8.1、用户管理"></a>8.1、用户管理</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ========================权限管理和备份===========================-- 创建用户 create user 用户名 identified by &#x27;密码&#x27;CREATE USER kang IDENTIFIED BY &#x27;123456&#x27;-- 修改密码（修改当前用户密码）SET PASSWORD = PASSWORD(&#x27;root&#x27;)-- 修改密码（修改指定用户密码）SET PASSWORD FOR root@&#x27;localhost&#x27; = PASSWORD(&#x27;root&#x27;)SET PASSWORD FOR kang = PASSWORD(&#x27;root&#x27;) -- %号的不用加@&#x27;localhost&#x27;-- 重命名 rename user 原来名字 to 新的名字RENAME USER kang TO kangxihuang-- 用户授权 all privileges 全部的权限，库，表-- all privileges 除了给别人授权，其他都能够干GRANT ALL PRIVILEGES ON *.* TO kangxihuang-- 查询权限SHOW GRANTS FOR kangxihuangSHOW GRANTS FOR root@localhost-- root用户创建权限 GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;localhost&#x27; WITH GRANT OPTION-- 撤销权限 revoke 哪些权限，在哪个库撤销，给谁撤销REVOKE ALL PRIVILEGES ON *.* FROM kangxihuang-- 删除用户DROP USER kangxihuangDROP USER kangkang@&#x27;127.0.0.1&#x27;</span></span><br></pre></td></tr></table></figure>



<h3 id="8-2、MySQL备份"><a href="#8-2、MySQL备份" class="headerlink" title="8.2、MySQL备份"></a>8.2、MySQL备份</h3><p>为什么要备份</p>
<ul>
<li>保证重要的数据不丢失</li>
<li>数据转移</li>
</ul>
<p>MySQL数据库备份的方式</p>
<ul>
<li><p>直接拷贝物理文件</p>
</li>
<li><p>在sqlyog这种可视化工具中手动导出</p>
<ul>
<li>选择要导出的，右键备份导出数据</li>
<li><img src="D:\md图片路径\image-20210415154443652.png" alt="image-20210415154443652"></li>
</ul>
</li>
<li><p>使用命令行导出 mysqldump 命令行使用 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysqldumo -h 主机名 -u 用户名 -p 密码 数据库 表名 &gt; 磁盘位置/文件名mysqldump -hlocalhost -uroot -proot school student &gt; d:/1.sql# mysqldumo -h 主机名 -u 用户名 -p 密码 数据库 表1 表2 &gt; 磁盘位置/文件名mysqldump -hlocalhost -uroot -proot school student result &gt; d:/2.sql# mysqldumo -h 主机名 -u 用户名 -p 密码 数据库 &gt; 磁盘位置/文件名mysqldump -hlocalhost -uroot -proot school &gt; d:/3.sql# 导入# 登陆的情况下，切换到指定的数据库# source 备份文件source d:/a.sqlmysql -u用户名 -p密码 库名 &lt; 备份文件</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="9、规范数据库设计"><a href="#9、规范数据库设计" class="headerlink" title="9、规范数据库设计"></a>9、规范数据库设计</h2><h3 id="9-1、为什么需要设计"><a href="#9-1、为什么需要设计" class="headerlink" title="9.1、为什么需要设计"></a>9.1、为什么需要设计</h3><p>==<strong>当数据库比较复杂的时候，我们就需要设计了</strong>==</p>
<p><strong>糟糕的数据库设计：</strong></p>
<ul>
<li>数据冗余，浪费空间</li>
<li>数据库插入和删除都会麻烦，异常【屏蔽使用物理外键】</li>
<li>程序的性能差</li>
</ul>
<p><strong>良好的数据库设计：</strong></p>
<ul>
<li>节省内存空间</li>
<li>保证数据库的完整性</li>
<li>方便我们开发系统</li>
</ul>
<p><strong>软件开发中，关于数据库的设计</strong></p>
<ul>
<li>分析需求：分析业务和需要处理的数据库的需求</li>
<li>概要设计：设计关系图E-R图</li>
</ul>
<p><strong>设计数据库的步骤：（个人博客）</strong></p>
<ul>
<li>收集信息，分析需求<ul>
<li>用户表（用户登陆注销，用户的个人信息，写博客，创建分类）</li>
<li>分类表（文章分类，谁创建的）</li>
<li>文章表（文章的信息）</li>
<li>评论表</li>
<li>友链表（友链信息）</li>
<li>自定义表（系统信息，某个关键的字，或者一些主字段） key : value</li>
<li>说说表（发表心情 .. id … content… create_time）</li>
</ul>
</li>
<li>标识实体（把需求落地到每个字段）</li>
<li>标识实体之间的关系<ul>
<li>写博客：user –&gt; blog</li>
<li>创建分类：user –&gt; category</li>
<li>关注：user –&gt;user</li>
<li>友链：links</li>
<li>评论：user-user-blog</li>
</ul>
</li>
</ul>
<blockquote>
<p>三大范式（了解）</p>
</blockquote>
<p><strong>第一范式（1NF）</strong></p>
<p>原子性：保证每个列不可再分</p>
<p><strong>第二范式（2NF）</strong></p>
<p>前提：满足第一范式</p>
<p>每张表描述一件事情</p>
<p><strong>第三范式（3NF）</strong></p>
<p>前提：满足第一范式和第二范式</p>
<p>第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。</p>
<p>（规范数据库的设计）</p>
<p><strong>规范性 和 性能的问题</strong></p>
<p>关联查询的表不得超过三张表</p>
<ul>
<li>考虑商业化的需求和目标，（成本，用户体验！）数据库的性能更加重要</li>
<li>在规范性能的问题的时候，需要适当的考虑下规范性！</li>
<li>故意给某些表增加一些冗余的的字段。（从多表查询中变为单表查询）</li>
<li>故意增加一些计算列（从大数据量降低未小数据量的查询：索引）</li>
</ul>
<h2 id="10、JDBC（重点）"><a href="#10、JDBC（重点）" class="headerlink" title="10、JDBC（重点）"></a>10、JDBC（重点）</h2><h3 id="10-1、数据库驱动"><a href="#10-1、数据库驱动" class="headerlink" title="10.1、数据库驱动"></a>10.1、数据库驱动</h3><p>驱动：声卡、显卡、数据库</p>
<p><img src="D:\md图片路径\image-20210416142731338.png" alt="image-20210416142731338"></p>
<p>我们的程序会通过数据库驱动和数据库打交道！</p>
<h3 id="10-2、JDBC"><a href="#10-2、JDBC" class="headerlink" title="10.2、JDBC"></a>10.2、JDBC</h3><p>SUN公司为了简化开发人员的（对数据库的统一）操作，提供了一个（java操作数据库的）规范，俗称JDBC。</p>
<p>这些规范的实现由具体的厂商去做~</p>
<p>对于开发人员来说，我们只需要掌握JDBC接口的操作即可！</p>
<p><img src="D:\md图片路径\image-20210416143548946.png" alt="image-20210416143548946"></p>
<p>java.sql</p>
<p>javax.sql</p>
<p>还需要导入一个数据库驱动包 mysql-connecttor-java-5.1.47.jar</p>
<h3 id="10-3、第一个JDBC程序"><a href="#10-3、第一个JDBC程序" class="headerlink" title="10.3、第一个JDBC程序"></a>10.3、第一个JDBC程序</h3><blockquote>
<p>创建测试数据库</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jdbcStudy <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;USE jdbcStudy;<span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `users`(	id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,	NAME <span class="type">VARCHAR</span>(<span class="number">40</span>),	PASSWORD <span class="type">VARCHAR</span>(<span class="number">40</span>),	email <span class="type">VARCHAR</span>(<span class="number">60</span>),	birthday <span class="type">DATE</span>);<span class="keyword">INSERT</span> <span class="keyword">INTO</span> `users`(id,NAME,PASSWORD,email,birthday)<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhansan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;lisi@sina.com&#x27;</span>,<span class="string">&#x27;1981-12-04&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;wangwu@sina.com&#x27;</span>,<span class="string">&#x27;1979-12-04&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>1、新建一个项目</p>
<p>2、导入数据库驱动</p>
<p><img src="D:\md图片路径\image-20210416144924115.png" alt="image-20210416144924115"></p>
<p>3、编写测试代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson01;<span class="keyword">import</span> java.sql.*;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">jdbcFirstDemo</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;        <span class="comment">//1、加载驱动        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);        //2、用户信息和url        //useUnicode=true&amp;&amp;characterEncoding=utf8&amp;&amp;useSSL=true        String url = &quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;&amp;characterEncoding=utf8&amp;&amp;useSSL=false&quot;;        String username = &quot;root&quot;;        String password = &quot;root&quot;;        //3、连接成功，数据库对象 Connection 代表数据库        Connection connection = DriverManager.getConnection(url, username, password);        //4、执行SQL的对象statement 执行sql对象        Statement statement = connection.createStatement();        //5、执行sql的对象去执行sql，可能存在结果，查看返回结果        String sql = &quot;SELECT * FROM users&quot;;        ResultSet resultSet = statement.executeQuery(sql); // 返回的结果集，结果集中封装了我们全部的查询出来的结果        while(resultSet.next())&#123;            System.out.println(&quot;id = &quot; + resultSet.getObject(&quot;id&quot;));            System.out.println(&quot;name = &quot; + resultSet.getObject(&quot;name&quot;));            System.out.println(&quot;password = &quot; + resultSet.getObject(&quot;password&quot;));            System.out.println(&quot;email = &quot; + resultSet.getObject(&quot;email&quot;));            System.out.println(&quot;birth = &quot; + resultSet.getObject(&quot;birthday&quot;));            System.out.println(&quot;========================================================&quot;);        &#125;        //6、关闭数据库        resultSet.close();        statement.close();        connection.close();    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>步骤总结：</p>
<p>1、加载驱动</p>
<p>2、连接数据库 DriveManager</p>
<p>3、获得执行sql的对象 statement</p>
<p>4、获得返回的结果集</p>
<p>5、释放连接</p>
<blockquote>
<p>DriverManager</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DriverManager.registerDriver(new com.mysql.jdbc.Driver());Class.forName(&quot;com.mysql.jdbc.Driver&quot;); // 固定写法，加载驱动Connection connection = DriverManager.getConnection(url,username,password)    // connection 代表数据库// 数据库设置自动提交// 事务提交// 事务滚回    connection.rollback();connection.commint();connection.setAutoCommit();</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>URL</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;&amp;characterEncoding=utf8&amp;&amp;useSSL=false&quot;</span>;<span class="comment">// mysql -- 3306// jdbc:mysql://主机地址:端口号/数据库名？参数1&amp;参数2&amp;参数3// oralce -- 1521//jdbc:oracle:thin:@localhost:1521:sid</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>Statement 执行SQL 的对象     PrepareStatement 执行SQL 的对象</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String sql = <span class="string">&quot;SELECT * FROM users&quot;</span>; <span class="comment">//编写SQLstatement.executeQuery(); //查询操作返回 ResultSetstatement.execute(); //执行任何SQLstatement.executeUpdate(); //更新、插入、删除。都是用这个，返回一个受影响的行数</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ResultSet 查询的结果集：封装了所有的查询</p>
</blockquote>
<p>获得指定的数据类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resultSet.getObject(); <span class="comment">//在不知道列类型的情况下使用 // 如果知道列的类型就使用指定的类型resultSet.getString();resultSet.getInt();resultSet.getFloat();resultSet.getBoolean();resultSet.getDouble();resultSet.getDate();</span></span><br></pre></td></tr></table></figure>

<p>遍历，指针</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resultSet.beforeFirst(); <span class="comment">//移动到最前面resultSet.afterLast(); //移动到最后面resultSet.next();   //移动到下一个数据resultSet.previous(); //移动到前一行resultSet.absolute(row); //移动到指定行</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>释放资源</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//6、关闭数据库resultSet.close();statement.close();connection.close(); //耗资源，用完关掉</span></span><br></pre></td></tr></table></figure>



<h3 id="10-4、statement对象"><a href="#10-4、statement对象" class="headerlink" title="10.4、statement对象"></a>10.4、statement对象</h3><p>==jdbc中的statement对象用于向数据库发送SQL语句，想完成对数据库的增删改查，只需要通过这个对象向数据库发送增删改查语句即可。==</p>
<p><strong>statement对象的executeUpdate方法，用于向数据库发送增、删、改的sql语句，executeUpdate执行完后，将会返回一个整数（即增删改语句导致了数据库几行发生了变化）。</strong></p>
<p><strong>statement.executeQuery方法用于向数据库发送查询语句，executeQuery方法返回代表查询结果的ResultSet对象。</strong></p>
<blockquote>
<p>CRUD操作-create</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement st =conn.createStatement()String sql = <span class="string">&quot;insert into user(....) values(....)&quot;</span>;<span class="keyword">int</span> num = st.executeUpdate(sql);<span class="keyword">if</span>(num &gt; <span class="number">0</span>) &#123;    System.out.println(<span class="string">&quot;插入成功&quot;</span>)&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>CRUD操作-delete</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement st = conn.createStatement();String sql = <span class="string">&quot;delete from user where id = 1&quot;</span>;<span class="keyword">int</span> num = st.executeUpdate(sql);<span class="keyword">if</span>(num &gt; <span class="number">1</span>)&#123;    System.out.println(<span class="string">&quot;删除成功&quot;</span>)&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>CRUD操作-update</p>
</blockquote>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement st = conn.createStatement();String sql = <span class="string">&quot;update user set `name` = &#x27;kang&#x27; where id = 1&quot;</span><span class="keyword">int</span> num = executeUpdate(sql);<span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;    System.out.println(<span class="string">&quot;更新成功&quot;</span>);&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>CRUD操作-read</p>
</blockquote>
<p>使用executeQuery(String sql) 方法完成数据查询操作，示例操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement st = conn.createStatement();String sql = <span class="string">&quot;select * from user where id = 1&quot;</span>ResultSet rs = st.executeQuery(sql)<span class="keyword">while</span>(rs.next())&#123;    <span class="comment">//根据获取列的数据类型，分别调用rs的相应方法映射到java对象中&#125; </span></span><br></pre></td></tr></table></figure>





<blockquote>
<p>代码实现</p>
</blockquote>
<p>1、创建一个db.properties的文件来存储”环境”</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span> =<span class="string">com.mysql.jdbc.Driverurl = jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=falseusername= rootpassword = root</span></span><br></pre></td></tr></table></figure>



<p>2、提取工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson01;<span class="keyword">import</span> java.sql.*;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">jdbcFirstDemo</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;        <span class="comment">//1、加载驱动        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);        //2、用户信息和url        //useUnicode=true&amp;&amp;characterEncoding=utf8&amp;&amp;useSSL=true        String url = &quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;&amp;characterEncoding=utf8&amp;&amp;useSSL=false&quot;;        String username = &quot;root&quot;;        String password = &quot;root&quot;;        //3、连接成功，数据库对象 Connection 代表数据库        Connection connection = DriverManager.getConnection(url, username, password);        //4、执行SQL的对象statement 执行sql对象        Statement statement = connection.createStatement();//        statement.executeQuery(); //查询操作返回 ResultSet//        statement.execute(); //执行任何SQL//        statement.executeUpdate(); //更新、插入、删除。都是用这个，返回一个受影响的行数        //5、执行sql的对象去执行sql，可能存在结果，查看返回结果        String sql = &quot;SELECT * FROM users&quot;;        ResultSet resultSet = statement.executeQuery(sql); // 返回的结果集，结果集中封装了我们全部的查询出来的结果        while(resultSet.next())&#123;            System.out.println(&quot;id = &quot; + resultSet.getObject(&quot;id&quot;));            System.out.println(&quot;name = &quot; + resultSet.getObject(&quot;name&quot;));            System.out.println(&quot;password = &quot; + resultSet.getObject(&quot;password&quot;));            System.out.println(&quot;email = &quot; + resultSet.getObject(&quot;email&quot;));            System.out.println(&quot;birth = &quot; + resultSet.getObject(&quot;birthday&quot;));            System.out.println(&quot;========================================================&quot;);        &#125;        //6、关闭数据库        resultSet.close();        statement.close();        connection.close();    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<p>3、编写增删改的方法，<code>executeUpdate</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson02;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">import</span> java.sql.Statement;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        Statement sta = <span class="keyword">null</span>;        ResultSet rs = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection(); <span class="comment">//获取数据库连接            sta = con.createStatement(); //获得SQL的执行对象            String sql = &quot;INSERT INTO users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`) VALUES(4,&#x27;kang&#x27;,&#x27;123456&#x27;,&#x27;21312@qq.com&#x27;,&#x27;2001-08-24&#x27;);&quot;;            int i = sta.executeUpdate(sql);            if (i&gt;0)&#123;                System.out.println(&quot;插入成功&quot;);            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta, rs);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson02;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">import</span> java.sql.Statement;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        Statement sta = <span class="keyword">null</span>;        ResultSet rs = <span class="keyword">null</span>;        <span class="keyword">try</span>&#123;            con = jdbcUtils.getConnection();            sta = con.createStatement();            String sql = <span class="string">&quot;DELETE FROM users WHERE id = 4;&quot;</span>;            <span class="keyword">int</span> i = sta.executeUpdate(sql);            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;                System.out.println(<span class="string">&quot;删除成功&quot;</span>);            &#125;        &#125; <span class="keyword">catch</span> (SQLException e) &#123;            e.printStackTrace();        &#125;<span class="keyword">finally</span> &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson02;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">import</span> java.sql.Statement;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        Statement sta = <span class="keyword">null</span>;        ResultSet rs = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            sta = con.createStatement();            String sql = <span class="string">&quot;UPDATE `users` SET `name`=&#x27;kangkang&#x27; WHERE id = 2;&quot;</span>;            <span class="keyword">int</span> i = sta.executeUpdate(sql);            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;                System.out.println(<span class="string">&quot;修改成功&quot;</span>);            &#125;        &#125; <span class="keyword">catch</span> (SQLException e) &#123;            e.printStackTrace();        &#125;<span class="keyword">finally</span> &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span><br></pre></td></tr></table></figure>



<p>查询，<code>executeQuery</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson02;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">import</span> java.sql.Statement;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        Statement sta = <span class="keyword">null</span>;        ResultSet rs = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            sta = con.createStatement();            String sql = <span class="string">&quot;select * from `users` where id=1 or id=3;&quot;</span>;            ResultSet resultSet = sta.executeQuery(sql);            <span class="keyword">if</span> (resultSet.next())&#123;                System.out.println(<span class="string">&quot;name = &quot;</span>+resultSet.getObject(<span class="string">&quot;name&quot;</span>));                System.out.println(<span class="string">&quot;name = &quot;</span>+resultSet.getObject(<span class="string">&quot;name&quot;</span>));            &#125;        &#125; <span class="keyword">catch</span> (SQLException e) &#123;            e.printStackTrace();        &#125;<span class="keyword">finally</span> &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>SQL 注入的问题</p>
</blockquote>
<p>sql存在漏洞，会被攻击导致数据泄露，==SQL会被拼接 or==</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson02;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">import</span> java.sql.Statement;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQL</span>注入 </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        login(<span class="string">&quot;&#x27;or&#x27;1=1&quot;</span>,<span class="string">&quot;&#x27;or&#x27;1=1&quot;</span>);    &#125;    <span class="comment">//登陆业务    public static void login(String username,String password)&#123;        Connection con = null;        Statement sta = null;        ResultSet rs = null;        try &#123;            con = jdbcUtils.getConnection();            sta = con.createStatement();            String sql = &quot;select * from users where `name`=&#x27;&quot;+username+&quot;&#x27; and `password` = &#x27;&quot;+password+&quot;&#x27;&quot;;            rs = sta.executeQuery(sql);            while (rs.next())&#123;                System.out.println(rs.getString(&quot;name&quot;));                System.out.println(rs.getString(&quot;password&quot;));            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="10-5、PreparedStatement对象"><a href="#10-5、PreparedStatement对象" class="headerlink" title="10.5、PreparedStatement对象"></a>10.5、PreparedStatement对象</h3><p>PreparedStatement 可以防止SQL注入，效率更好！</p>
<p>1、新增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.Date;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        PreparedStatement sta = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            <span class="comment">//区别            //使用？占位符代替参数            String sql = &quot;insert into users(`id`,`name`,`password`,`email`,`birthday`) values(?,?,?,?,?)&quot;;            sta = con.prepareStatement(sql);            sta.setInt(1,4);            sta.setString(2,&quot;kk&quot;);            sta.setString(3,&quot;123456&quot;);            sta.setString(4,&quot;1234@qq.com&quot;);            // 注意点：sql.Date 数据库 java.sql.Date()            //      util.Date   java    new Date().getTime() 获得时间戳            sta.setDate(5,new Date(new java.util.Date().getTime()));            int i = sta.executeUpdate();            if (i&gt;0)&#123;                System.out.println(&quot;插入成功&quot;);            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta,null);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<p>2、删除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.Date;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        PreparedStatement sta = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            <span class="comment">//区别            //使用？占位符代替参数            String sql = &quot;delete from users where id = ?&quot;;            sta = con.prepareStatement(sql);            sta.setInt(1,4);            int i = sta.executeUpdate();            if (i&gt;0)&#123;                System.out.println(&quot;删除成功&quot;);            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta,null);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<p>3、更新</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        PreparedStatement sta = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            <span class="comment">//区别            //使用？占位符代替参数            String sql = &quot;update users set `name`=? where id = ?&quot;;            sta = con.prepareStatement(sql);            sta.setString(1,&quot;康康&quot;);            sta.setInt(2,1);            int i = sta.executeUpdate();            if (i&gt;0)&#123;                System.out.println(&quot;修改成功&quot;);            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta,null);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<p>4、查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        PreparedStatement sta =<span class="keyword">null</span>;        ResultSet rs = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            String sql = <span class="string">&quot;select * from users where id = ?;&quot;</span>; <span class="comment">//编写SQL            sta = con.prepareStatement(sql); // 预编译            sta.setInt(1,1); // 传递参数            rs = sta.executeQuery(); //执行            while (rs.next())&#123;                System.out.println(rs.getObject(&quot;id&quot;));                System.out.println(rs.getObject(&quot;name&quot;));                System.out.println(rs.getObject(&quot;password&quot;));            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125;finally &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>5、防止SQL注入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.ResultSet;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQL</span>注入 </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;<span class="comment">//        Login(&quot;康康&quot;,&quot;123456&quot;);        Login(&quot;&#x27;&#x27; or 1=1&quot;,&quot;123456&quot;);    &#125;    public static void Login(String username,String password)&#123;        Connection con = null;        PreparedStatement sta = null;        ResultSet rs = null;        try &#123;            con = jdbcUtils.getConnection();            // PreparedStatement 防止SQL注入的本质，把传递进来的参数当作字符            // 假设其中存在转义的字符，比如说 &#x27; 会被直接转义            String sql = &quot;SELECT * FROM `users` WHERE `name` = ? AND `password` = ?&quot;;            sta = con.prepareStatement(sql);            sta.setString(1,username);            sta.setString(2,password);            rs = sta.executeQuery();            while (rs.next())&#123;                System.out.println(rs.getString(&quot;NAME&quot;));                System.out.println(rs.getString(&quot;password&quot;));            &#125;        &#125; catch (SQLException e) &#123;            e.printStackTrace();        &#125; finally &#123;            jdbcUtils.release(con,sta,rs);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="10-6、使用IDEA连接数据库"><a href="#10-6、使用IDEA连接数据库" class="headerlink" title="10.6、使用IDEA连接数据库"></a>10.6、使用IDEA连接数据库</h3><p><img src="D:\md图片路径\image-20210418143833040.png" alt="image-20210418143833040"></p>
<p>连接成功后，可以选择数据库</p>
<p><img src="D:\md图片路径\image-20210418144225064.png" alt="image-20210418144225064"></p>
<p>双击数据库</p>
<p><img src="D:\md图片路径\image-20210418144313820.png" alt="image-20210418144313820"></p>
<p>更新数据</p>
<p><img src="D:\md图片路径\image-20210418144441026.png" alt="image-20210418144441026"></p>
<p><img src="D:\md图片路径\image-20210418144547149.png" alt="image-20210418144547149"></p>
<h3 id="10-7、事务"><a href="#10-7、事务" class="headerlink" title="10.7、事务"></a>10.7、事务</h3><p>==要么成功，要么失败==</p>
<blockquote>
<p>ACID原则</p>
</blockquote>
<p>原则性：要么全部完成，要么都不完成</p>
<p>一致性： 总数不变</p>
<p><strong>隔离性：多个进程互不干扰</strong></p>
<p>持久性：一旦提交不可逆，持久化到数据库了</p>
<p>隔离性的问题：</p>
<p>脏读：一个事务读取了另外一个没有提交的事务</p>
<p>不可重复读：在同一个事务内，重复读取表中的数据，表数据发生了改变</p>
<p>虚读（幻读）：在一个事务内，读取到了别人插入的数据，导致前后读出来结果不一致</p>
<blockquote>
<p>代码实现</p>
</blockquote>
<p>1、开启事务<code>con.setAutoCommit(false);</code></p>
<p>2、一组业务执行完毕，提交事务</p>
<p>3、可以在catch语句中显示的定义 回滚语句，但默认失败就会回滚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kang.lesson03;<span class="keyword">import</span> com.kang.lesson02.utils.jdbcUtils;<span class="keyword">import</span> java.sql.Connection;<span class="keyword">import</span> java.sql.PreparedStatement;<span class="keyword">import</span> java.sql.SQLException;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTransaction</span> </span>&#123;    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        Connection con = <span class="keyword">null</span>;        PreparedStatement sta = <span class="keyword">null</span>;        <span class="keyword">try</span> &#123;            con = jdbcUtils.getConnection();            <span class="comment">// 关闭数据库的自动提交，自动会开启事务            con.setAutoCommit(false); //开启事务            String sql1 = &quot;update `accout` set `money` = money - 50 where `name`= &#x27;A&#x27;&quot;;            sta = con.prepareStatement(sql1);            sta.executeUpdate();            String sql2 = &quot;update `accout` set `money` = money + 50 where `name`= &#x27;B&#x27;&quot;;            sta = con.prepareStatement(sql2);            sta.executeUpdate();            //业务完毕，提交事务            con.commit();            System.out.println(&quot;成功!&quot;);        &#125; catch (SQLException e) &#123;            // 若是失败，则默认回滚//            try &#123;//                con.rollback(); // 如果失败则回滚事务//            &#125; catch (SQLException e1) &#123;//                e1.printStackTrace();//            &#125;            e.printStackTrace();        &#125; finally &#123;            jdbcUtils.release(con,sta,null);        &#125;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="10-8、批处理"><a href="#10-8、批处理" class="headerlink" title="10.8、批处理"></a>10.8、批处理</h3><p><strong>基本介绍</strong></p>
<ol>
<li><p>当需要成批插入或者更新记录时。可以采用Java的批量更新机制，这一机制允许多条语句一次性提交给数据库批量处理。通常情况下比单独提交处理更有效率</p>
</li>
<li><p>JDBC的批量处理语句包括下面方法：</p>
<p>addBatch(): 添加需要批量处理的SQL语句或参数</p>
<p>executeBatch(): 执行批量处理语句；</p>
<p>clearBatch(): 情空批处理包的语句</p>
</li>
<li><p>JDBC连接MySql时，如果要使用批处理功能，请再url加参数?rewriteBatchedStatements=true</p>
</li>
<li><p>批处理往往和PreparedStatement一起搭配使用，可以既减少编译次数，又减少运行次数，效率大大提高</p>
</li>
</ol>
<h3 id="10-9、数据库连接池"><a href="#10-9、数据库连接池" class="headerlink" title="10.9、数据库连接池"></a>10.9、数据库连接池</h3><p>数据库连接 – 执行完毕 – 释放</p>
<p>连接 – 释放 十分浪费系统资源</p>
<p> <strong>池化技术：准备一些预先的资源，过来就连接预先准备好的</strong></p>
<p>最小连接数：10</p>
<p>最大连接数：15</p>
<p>等待超时：100ms</p>
<p>==编写连接池：实现一个接口 DataSource==</p>
<blockquote>
<p>开源数据源实现</p>
</blockquote>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid:阿里巴巴</p>
<p>使用了这些数据库连接池之后，我们在项目开发中就不需要编写连接数据库的代码了</p>
<blockquote>
<p>DBCP</p>
</blockquote>
<p>需要用到的jar包</p>
<p>commons-dbcp-1.4、commons-pool-1.6</p>
<blockquote>
<p>C3P0</p>
</blockquote>
<p>需要用到的jar包</p>
<p>mchange-commons-java-0.2.19.jar    c3p0-0.9.5.5.jar</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：相关参数，在程序中指定user,url,password等 @Test    public void testC3P0_01() throws Exception &#123;        //1.创建一个数据源对象        ComboPooledDataSource comboPooledDataSource = new ComboPooledDataSource();        //2. 通过配置文件mysql.properties 获取相关连接的信息        Properties properties = new Properties();        properties.load(new FileInputStream(&quot;D:\\实训\\jdbc\\src\\com\\kang\\mysql.properties&quot;));        String drive = properties.getProperty(&quot;drive&quot;);        String url = properties.getProperty(&quot;url&quot;);        String username = properties.getProperty(&quot;username&quot;);        String password = properties.getProperty(&quot;password&quot;);        //给数据源comboPooledDataSource设置相关的参数        //注意：连接管理是由comboPooledDataSource来管理        comboPooledDataSource.setDriverClass(drive);        comboPooledDataSource.setJdbcUrl(url);        comboPooledDataSource.setUser(username);        comboPooledDataSource.setPassword(password);        //设置初始化连接数        comboPooledDataSource.setInitialPoolSize(10);        //最大连接数        comboPooledDataSource.setMaxPoolSize(50);        //这个方法就是从datasource接口实现        Connection connection = comboPooledDataSource.getConnection();        System.out.println(&quot;连接成功&quot;);        connection.close();    &#125;</span></span><br></pre></td></tr></table></figure>

<p>第二种方式，从配置文件读取</p>
<p>c3p0-config.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span>    <span class="comment">&lt;!-- 数据源名称代表连接池 --&gt;</span>    <span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">&quot;kk&quot;</span>&gt;</span>    <span class="comment">&lt;!-- 驱动类 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- url--&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span>&gt;</span>jdbc:mysql://127.0.0.1:3306/test?useSSL=false<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 用户名 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 密码 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 每次增长的连接数--&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireIncrement&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 初始的连接数 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 最小连接数 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 最大连接数 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>50<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 可连接的最多的命令对象数 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxStatements&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span>    <span class="comment">&lt;!-- 每个连接对象可连接的最多的命令对象数 --&gt;</span>    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxStatementsPerConnection&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">property</span>&gt;</span><span class="tag">&lt;/<span class="name">named-config</span>&gt;</span><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第二种方式：使用配置文件模板来完成    @Test    public void testC3P0_02() throws SQLException &#123;        ComboPooledDataSource kk = new ComboPooledDataSource(&quot;kk&quot;);        Connection connection = kk.getConnection();        System.out.println(&quot;连接成功&quot;);        connection.close();    &#125;</span></span><br></pre></td></tr></table></figure>





<h2 id="11、备份恢复数据库"><a href="#11、备份恢复数据库" class="headerlink" title="11、备份恢复数据库"></a>11、备份恢复数据库</h2><p>备份数据库(注意: 在DOS执行)命令行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u 用户名 -p -B 数据库1 数据库2 数据库n &gt; 文件名.sql</span><br></pre></td></tr></table></figure>

<p>恢复数据库(注意：进入数据库在执行)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Source 文件名.sql</span><br></pre></td></tr></table></figure>

<p>备份恢复数据的表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u 用户名 -p 数据库1 数据库2 数据库n &gt; 文件名.sql</span><br></pre></td></tr></table></figure>

<h2 id="12、视图"><a href="#12、视图" class="headerlink" title="12、视图"></a>12、视图</h2><p>12.1、视图原理</p>
<ol>
<li>视图是根据基表来创建的，视图是虚拟的表</li>
<li>视图也有列，数据来自基表</li>
<li>通过视图可以修改基表的数据</li>
<li>基表的改变，也会影响到视图的数据</li>
</ol>
<p>12.2、视图的使用</p>
<ol>
<li>create view 视图名 as select 语句</li>
<li>alter view 视图名 as select 语句</li>
<li>show create view 视图名</li>
<li>drop view 视图名1,视图名2</li>
</ol>
<h2 id="13、Mysql管理"><a href="#13、Mysql管理" class="headerlink" title="13、Mysql管理"></a>13、Mysql管理</h2><h3 id="13-1、用户管理"><a href="#13-1、用户管理" class="headerlink" title="13.1、用户管理"></a>13.1、用户管理</h3><ul>
<li><p>创建用户</p>
<p>create user ‘用户名’ @ ‘允许登录的位置’ identified by ‘密码’;</p>
<p>说明：创建用户，同时指定密码</p>
</li>
<li><p>删除用户</p>
<p>drop user ‘用户名’ @ ‘允许登录位置’;</p>
<p><strong>用户修改密码</strong></p>
</li>
<li><p>修改自己的密码</p>
</li>
<li><p>set password = password(‘密码’);</p>
<p>修改他人的密码（需要有修改用户密码权限）;</p>
<p>set password for ‘用户名‘@’登录位置’ = password(‘密码’);</p>
</li>
</ul>
<h3 id="13-2、权限管理"><a href="#13-2、权限管理" class="headerlink" title="13.2、权限管理"></a>13.2、权限管理</h3><p>基本语法:</p>
<p>grant 权限列表 on 库.对象名 to ‘用户名‘@’登录位置’ 【identified by ‘密码’】</p>
<p>说明：</p>
<ol>
<li><p>权限列表，多个权限用逗号分开</p>
<p>grant select on…….</p>
<p>grant select,delete,create on……</p>
<p>grant all 【privileges】 on…..//表示赋予该用户再该对象上的所有权限</p>
</li>
<li><p>特别说明·</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*.*: 代表本系统中的所有数据的所有对象（表，视图，存储过程）库.*: 表示某个数据库中的所有数据对象(表，视图，存储过程)</span><br></pre></td></tr></table></figure></li>
<li><p>identified by可以省略，也可以写出</p>
<ul>
<li>如果用户存在，就是修改该用户的密码</li>
<li>如果该用户不存在，就是创建该用户</li>
</ul>
</li>
</ol>
<p>回收用户授权</p>
<p>基本语法：</p>
<p>revoke 权限列表 on 库.对象名 from ‘用户名‘@’登录位置’;</p>
<p>权限生效指令</p>
<p>如果权限没有生效，可以执行下面命令</p>
<p>基本语法</p>
<p>flush privileges;</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">康康</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2021/10/15/mysql/">http://example.com/2021/10/15/mysql/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/about" target="_blank">John Doe</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">No tag</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;Current
            </div>
            <div class="card">
                <a href="/2021/10/15/mysql/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="mysql">
                        
                        <span class="card-title">mysql</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-10-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            John Doe
                            
                        </span>
                    </div>
                </div>

                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/10/15/hello-world/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/12.jpg" class="responsive-img" alt="Hello World">
                        
                        <span class="card-title">Hello World</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-10-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            John Doe
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2021</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">John Doe</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/kangxihuang" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:428381758@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=428381758" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 428381758" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
